@startuml Add Command Sequence Diagram

actor User
participant InteractivePromptHandler
participant ProjectList

User -> InteractivePromptHandler: handleAddCommand()
activate InteractivePromptHandler
InteractivePromptHandler -> ProjectList: getProjectListSize()
activate ProjectList
ProjectList --> InteractivePromptHandler: return size
deactivate ProjectList
InteractivePromptHandler -> User: "Hmph, here are your projects:"
InteractivePromptHandler -> User: Display numbered project list
InteractivePromptHandler -> User: "Enter project number or press 'enter' to exit:"

User -> InteractivePromptHandler: Project number
InteractivePromptHandler -> InteractivePromptHandler: Validate range
alt Invalid input
    InteractivePromptHandler -> User: "Hmph, choose a project number within the range!"
    InteractivePromptHandler -> User: Retry prompt
end

InteractivePromptHandler -> User: "Enter task name:"
User -> InteractivePromptHandler: Task description
InteractivePromptHandler -> InteractivePromptHandler: Validate non-empty
InteractivePromptHandler -> User: Priority prompt (default: medium)
User -> InteractivePromptHandler: Priority choice
InteractivePromptHandler -> User: Deadline prompt (optional)
User -> InteractivePromptHandler: Deadline or skip
InteractivePromptHandler -> InteractivePromptHandler: Construct command args
InteractivePromptHandler --> User: Return to main flow
deactivate InteractivePromptHandler

@enduml